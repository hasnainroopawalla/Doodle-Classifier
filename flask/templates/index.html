<html>

<head>
  <title>Image Caption</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>

<body style="background: #EFF4F7";>
  <form method=post enctype=multipart/form-data action=/getobjects>
    <input onchange="readURL(this);" type=file name=file class="custom-file-input">     <input type=submit value=Upload>
    <br><br>
    <img id="blah" src="#"/><br><br>
  </form>
  
    {% for i in objs %}
    <p>{{i}}</p>
    {% endfor %}
  
  <!-- <img style="margin:10px;" src="/static/images/out.png"> -->
</body>

<script>
  
  function readURL(input) {
          if (input.files && input.files[0]) {
              var reader = new FileReader();
              reader.onload = function (e) {
                  $('#blah')
                      .attr('src', e.target.result);
                      
              };
              reader.readAsDataURL(input.files[0]);
          }
      }

  $(".custom-file-input").on("change", function() {
    var fileName = $(this).val().split("\\").pop();
    $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
  });
 
</script>
</body>

</html>
